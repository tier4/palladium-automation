# Palladium Automation

**Hornet GPU/GPGPUé–‹ç™ºã®ãƒ©ãƒƒãƒ‘ãƒ¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ã€‚SSHçµŒç”±ã®ga53pd01 Palladiumã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿åˆ¶å¾¡ã¨ã€Serena MCPã«ã‚ˆã‚‹Verilog/SystemVerilogè§£æã‚’çµ±åˆã—ã€RTLé–‹ç™ºã‹ã‚‰ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã¾ã§ã‚’ãƒ¯ãƒ³ã‚¹ãƒˆãƒƒãƒ—ã§å®Ÿç¾ã—ã¾ã™ã€‚

## é‡è¦: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…å®Œçµã®åŸå‰‡

**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ã¨ãƒ„ãƒ¼ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ç®¡ç†ã—ã¾ã™ã€‚**

- âœ… ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ï¼ˆ`npm link` ç­‰ã¯ä½¿ç”¨ã—ãªã„ï¼‰
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ `npm install` ã™ã‚‹ã ã‘ã§å‹•ä½œ
- âœ… ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼å…¨å“¡ãŒåŒã˜ç’°å¢ƒã§ä½œæ¥­å¯èƒ½
- âœ… ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ç’°å¢ƒã‚’æ±šæŸ“ã—ãªã„

## æ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ç‰¹æ®Šãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ¶ç´„ä¸‹ã§ã€**SSHçµŒç”±ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ**ã«ã‚ˆã‚‹è‡ªå‹•åŒ–ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
[ãƒ­ãƒ¼ã‚«ãƒ« RHEL8 (ip-172-17-34-126)]
    â†“ Claude Codeå‹•ä½œ
    â†“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆç”Ÿæˆ
    â†“ SSH stdinçµŒç”±ã§ga53pd01ã«è»¢é€
    â†’â†’â†’ [ãƒªãƒ¢ãƒ¼ãƒˆ ga53pd01 (Palladium Compute Server)]
            â†“ åŒæœŸå®Ÿè¡Œ
            â†“ æ¨™æº–å‡ºåŠ›ãƒ»æ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›
            â†“
[ãƒ­ãƒ¼ã‚«ãƒ«] â†â†â† SSHçµŒç”±ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º + ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜
```

### ä¸»è¦æ©Ÿèƒ½

- âœ… **Hornetçµ±åˆ**: hornetãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’git cloneã§çµ„ã¿è¾¼ã¿
- âœ… **Serena MCP**: Verilog/SystemVerilogã®ã‚·ãƒ³ãƒœãƒ«ãƒ™ãƒ¼ã‚¹è§£æ
- âœ… **SSHåŒæœŸå®Ÿè¡Œæ–¹å¼**: é«˜é€Ÿï¼ˆ2-3ç§’ï¼‰ãƒ»ã‚·ãƒ³ãƒ—ãƒ«ãƒ»GUIæ“ä½œä¸è¦
- âœ… **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡ºåŠ›**: å®Ÿè¡Œä¸­ã®å‡ºåŠ›ã‚’ãã®å ´ã§ç¢ºèª
- âœ… **ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–**: `.archive/YYYYMM/` ã«è‡ªå‹•ä¿å­˜
- âœ… **ãƒ¯ãƒ³ã‚¹ãƒˆãƒƒãƒ—é–‹ç™º**: RTLè§£æâ†’ã‚¹ã‚¯ãƒªãƒ—ãƒˆç”Ÿæˆâ†’å®Ÿè¡Œâ†’çµæœåˆ†æ

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
palladium-automation/
â”œâ”€â”€ hornet/                    # git clone ã•ã‚ŒãŸhornetãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â”œâ”€â”€ src/                   # Verilog/SystemVerilog RTL
â”‚   â”œâ”€â”€ eda/                   # EDA tool configs, testbenches
â”‚   â””â”€â”€ tb/                    # Testbenches
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ claude_to_ga53pd01.sh  # SSHçµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæ¨å¥¨ï¼‰
â”‚   â””â”€â”€ .legacy/               # ãƒ¬ã‚¬ã‚·ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆxdotoolæ–¹å¼ï¼‰
â”œâ”€â”€ .serena/                   # Serena MCPè¨­å®š
â”‚   â”œâ”€â”€ project.yml            # Verilogè¨€èªè¨­å®š
â”‚   â””â”€â”€ memories/              # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ãƒ¢ãƒª
â”œâ”€â”€ workspace/
â”‚   â””â”€â”€ etx_results/
â”‚       â””â”€â”€ .archive/          # ãƒ­ãƒ¼ã‚«ãƒ«æ°¸ç¶šä¿å­˜ï¼ˆYYYYMMåˆ¥ï¼‰
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ setup.md               # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ mcp_setup_cli.md       # Serena MCPè¨­å®šã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ ssh_direct_retrieval_test.md  # SSHç›´æ¥å–å¾—ãƒ†ã‚¹ãƒˆçµæœ
â”‚   â””â”€â”€ .legacy/               # ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ CLAUDE.md                  # Claude Codeå‘ã‘ãƒªãƒã‚¸ãƒˆãƒªã‚¬ã‚¤ãƒ‰
â””â”€â”€ README.md                  # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

**æ³¨æ„**: `hornet/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯`.gitignore`ã«è¿½åŠ ã•ã‚Œã¦ãŠã‚Šã€ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã®Gitç®¡ç†å¯¾è±¡å¤–ã§ã™ã€‚

## ç’°å¢ƒè¦ä»¶

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ (ip-172-17-34-126)
- OS: RHEL8
- å¿…é ˆãƒ„ãƒ¼ãƒ«:
  - SSH (å…¬é–‹éµèªè¨¼è¨­å®šæ¸ˆã¿)
  - Git
  - Bash

### ãƒªãƒ¢ãƒ¼ãƒˆç’°å¢ƒ (ga53pd01)
- OS: RHEL8
- Palladium Compute Server
- SSHçµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼ˆProxyJumpè¨­å®šæ¨å¥¨ï¼‰
- ãƒã‚¹ãƒ†ã‚£ã‚ªãƒ³ã‚µãƒ¼ãƒãƒ¼çµŒç”±: 10.108.64.1 â†’ ga53pd01

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

> ğŸ“– **è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †**: [docs/setup.md](docs/setup.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„

### 1. SSHå…¬é–‹éµèªè¨¼ã®è¨­å®š

```bash
# SSHéµç”Ÿæˆï¼ˆã¾ã æŒã£ã¦ã„ãªã„å ´åˆï¼‰
ssh-keygen -t ed25519 -C "your_email@example.com"

# ãƒã‚¹ãƒ†ã‚£ã‚ªãƒ³ã‚µãƒ¼ãƒãƒ¼ã«å…¬é–‹éµã‚’ç™»éŒ²
ssh-copy-id henmi@10.108.64.1

# ãƒã‚¹ãƒ†ã‚£ã‚ªãƒ³ã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§ga53pd01ã«å…¬é–‹éµã‚’ç™»éŒ²
ssh henmi@10.108.64.1
ssh-copy-id henmi@ga53pd01
exit

# ~/.ssh/config ã«ProxyJumpè¨­å®šã‚’è¿½åŠ 
# è©³ç´°ã¯ docs/setup.md ã‚’å‚ç…§
```

### 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
cd ~
git clone https://github.com/tier4/palladium-automation.git
cd palladium-automation
```

### 3. Hornetãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
# palladium-automationå†…ã«hornetã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/tier4/hornet.git
```

### 4. Serena MCPè¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

Verilog/SystemVerilogè§£æã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼š

```bash
# Serena MCPã‚’è¿½åŠ 
claude-serena
# ã¾ãŸã¯æ‰‹å‹•ã§ ~/.claude.json ã«è¨­å®š
```

è©³ç´°ã¯ [docs/mcp_setup_cli.md](docs/mcp_setup_cli.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### 5. æ¥ç¶šãƒ†ã‚¹ãƒˆ

```bash
# ga53pd01ã¸ã®æ¥ç¶šç¢ºèª
ssh ga53pd01 'hostname'
# å‡ºåŠ›: ga53pd01
```

ã“ã‚Œã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ã§ã™ï¼è©³ç´°ãªæ‰‹é †ã¯ [docs/setup.md](docs/setup.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ä½¿ç”¨æ–¹æ³•

### SSHçµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæ¨å¥¨ï¼‰

```bash
# ga53pd01ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œï¼ˆSSHåŒæœŸå®Ÿè¡Œï¼‰
./scripts/claude_to_ga53pd01.sh /path/to/task_script.sh

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
DEBUG=1 ./scripts/claude_to_ga53pd01.sh /path/to/task_script.sh
```

**ç‰¹å¾´**:
- é«˜é€Ÿï¼ˆ2-3ç§’ï¼‰ãƒ»å®‰å®šï¼ˆGUIæ“ä½œä¸è¦ï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å‡ºåŠ›è¡¨ç¤º
- ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã«è‡ªå‹•ä¿å­˜ï¼ˆ`.archive/YYYYMM/`ï¼‰
- ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ®‹ã•ãªã„

**å®Ÿè¡Œä¾‹**:
```bash
# ç°¡å˜ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ
cat > /tmp/test.sh << 'EOF'
#!/bin/bash
echo "Hostname: $(hostname)"
echo "Date: $(date)"
echo "User: $(whoami)"
EOF

# å®Ÿè¡Œ
./scripts/claude_to_ga53pd01.sh /tmp/test.sh
```

### Claude Codeã®Bashãƒ„ãƒ¼ãƒ«ã‹ã‚‰ä½¿ç”¨

Claude Codeã§ã‚¿ã‚¹ã‚¯ã‚’æŒ‡ç¤ºã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«ä»¥ä¸‹ã®æµã‚Œã§å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š

1. Claude CodeãŒã‚¿ã‚¹ã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”Ÿæˆ
2. `claude_to_ga53pd01.sh` ã§ga53pd01ã«è»¢é€ãƒ»å®Ÿè¡Œ
3. çµæœãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¡¨ç¤º
4. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã«ä¿å­˜

**ä¾‹**:
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œga53pd01ã§gionãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€
â†’ Claude CodeãŒãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”Ÿæˆ
â†’ claude_to_ga53pd01.sh ã§å®Ÿè¡Œ
â†’ çµæœè¡¨ç¤º
```

### ãƒ¬ã‚¬ã‚·ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆå‚è€ƒï¼‰

xdotoolãƒ™ãƒ¼ã‚¹ã®GUIè‡ªå‹•æ“ä½œã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ `scripts/.legacy/` ã«ç§»å‹•ã•ã‚Œã¾ã—ãŸã€‚

è©³ç´°ã¯ [scripts/.legacy/README.md](scripts/.legacy/README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### SSHæ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# SSHéµç¢ºèª
ssh-add -l

# ProxyJumpè¨­å®šç¢ºèª
cat ~/.ssh/config | grep -A5 "Host ga53pd01"

# æ‰‹å‹•æ¥ç¶šãƒ†ã‚¹ãƒˆ
ssh ga53pd01 'hostname'

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§æ¥ç¶š
ssh -v ga53pd01
```

### å®Ÿè¡ŒçµæœãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
# ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç¢ºèª
ls -lh workspace/etx_results/.archive/$(date +%Y%m)/

# æœ€æ–°ã®çµæœãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤º
ls -lt workspace/etx_results/.archive/$(date +%Y%m)/ | head -5
```

## é–‹ç™ºã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

- [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®ä½œæˆ
- [x] ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] SSHå…¬é–‹éµèªè¨¼ã®è¨­å®š
- [x] SSHåŒæœŸå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè£…
- [x] ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ©Ÿèƒ½ã®å®Ÿè£…
- [x] çµ±åˆãƒ†ã‚¹ãƒˆ
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ

è©³ç´°ãªå®Ÿè£…çµŒç·¯ã¯ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š
- [`docs/plan.md`](docs/plan.md) - å®Ÿè£…ãƒ—ãƒ©ãƒ³
- [`docs/ssh_direct_retrieval_test.md`](docs/ssh_direct_retrieval_test.md) - SSHç›´æ¥å–å¾—ãƒ†ã‚¹ãƒˆçµæœ

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰](docs/setup.md) - è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
- [å®Ÿè£…ãƒ—ãƒ©ãƒ³](docs/plan.md) - é–‹ç™ºè¨ˆç”»ã¨é€²æ—
- [CLAUDE.md](CLAUDE.md) - Claude Codeå‘ã‘ã‚¬ã‚¤ãƒ‰
- [æŠ€è¡“ãƒ¡ãƒ¢](docs/memo.md) - åˆæœŸã®æŠ€è¡“æ¤œè¨

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

(ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚’è¿½åŠ )

## è²¢çŒ®

(è²¢çŒ®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’è¿½åŠ )
